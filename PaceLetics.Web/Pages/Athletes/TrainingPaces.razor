@page "/Athletes/trainingpaces"

@using AthleteDataAccessLibrary
@using AthleteDataAccessLibrary.Contracts
@using MudBlazor
@using AthleteModule.Components
@using PaceLetics.AthleteModule.Components

@inject AuthenticationStateProvider GetAuthenticationStateAsync
@inject IAthleteData AthleteData
@inject IDialogService dialogService
@inject IJSRuntime JSRuntime

<PageTitle>Deine Pacebereiche</PageTitle>

<MudContainer Class="pt-6 px-8 pb-8" MaxWidth="MaxWidth.Small">
    @if (_isLoading)
    {
        <LoadingScreen Label="Deine Daten werden geladen..." />
    }
    else
    {
        <PageHeader Title="Deine Pacebereiche"
                    Subtitle="Hier findest du deine optimalen Trainingspacebereiche basierend auf deinem VDOT-Wert." />

        <MudDivider Class="my-4" />

        <MudStack Spacing="3">
            @if (_athlete?.Vdot < 1)
            {
                <MudAlert Severity="Severity.Warning" Variant="Variant.Outlined">
                    Füge einen Einstufungslauf hinzu, damit wir deine optimale Trainingspace bestimmen können.
                </MudAlert>
            }

            <PaceInfo EPaceLow="@_lowerPace.Easy"
                      EPaceHigh="@_upperPace.Easy"
                      MPaceLow="@_lowerPace.Marathon"
                      MPaceHigh="@_upperPace.Marathon"
                      TPaceLow="@_lowerPace.Threshold"
                      TPaceHigh="@_upperPace.Threshold"
                      IPaceLow="@_lowerPace.Intervall"
                      IPaceHigh="@_upperPace.Intervall"
                      RPaceLow="@_lowerPace.Repetition"
                      RPaceHigh="@_upperPace.Repetition" />
        </MudStack>
    }
</MudContainer>
